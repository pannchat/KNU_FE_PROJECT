{% extends 'base.html'%}
{% load static %}
<!doctype html>
<html lang="ko">
    {% block contents %}
    <head>
        <title>{% block title %}회원 가입{% endblock %}</title>
        <script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
    
        <link rel="stylesheet" type="text/css" href="{% static 'credit_manage/css/modifyform.css'%}">
        <script src="{% static 'credit_manage/js/modifyform.js'%}"></script>
    </head>
    

    <div class="flexBox" >
        <div id="container">

            <form>
                <p id="lable">학번</p>
                <input type="text" name="studentId" class="inputField" readonly>

                <p id="lable">이름</p>
                <input type="text" name="studentName" class="inputField" id="nameField">

                <p id="lable">학년</p>
                <select name="studentGrade" class="selectField">
                    <option value="1">1학년</option>
                    <option value="2">2학년</option>
                    <option value="3">3학년</option>
                    <option value="4">4학년</option>
                    <option value="5">5학년</option>
                </select>
                <p id="lable">학과</p>
                <div style="display:flex">
                    <input type="text" name="studentName" class="inputField" id="nameField">
                    <img style="width:32px;"src="{% static 'credit_manage/img/search.png' %}">
                </div>
                <p id="lable">비밀번호</p>
                <input type="text" name="studentPw" class="inputField" id="pwField">

                <p id="pwCheckLable">기존에 사용중이던 비밀번호를 입력해주세요.</p>

                <p id="lable">비밀번호 확인</p>
                <input type="text" name="modifyPw" class="inputField" id="modifyPwField">

                <p id="lable">학적상태</p>
                <select name="studentStatus" class="selectField">
                    <option value="inSchool">재학</option>
                    <option value="rest">휴학</option>
                    <option value="graduation">졸업</option>
                </select>

                <input id="submitBtn" type="button" value="수정하기">
            </form>

        </div>
    </div>
    <!-- <button id="ajaxBtn" type="button" >test</button> -->
<script>
	(function(){
	var req;
	document.getElementById("submitBtn").addEventListener("click", makeRequest);

	function makeRequest(){
		req = new XMLHttpRequest();
		if(!req) {
		alert('XMLHTTP 인스턴스를 만들 수가 없습니다.');
		return false;
		}
		req.onreadystatechange = alertContents;
		req.open("GET", "http://54.180.157.139:8080/api/accounts", true);
		req.setRequestHeader('Content-Type', 'application/Json');
		req.send();
	}

	function alertContents(){
		try{
			if( req.readyState === XMLHttpRequest.DONE){
				alert(req.status);
				if(req.status === 200){
					reqs = req.responseText;
					alert(reqs);
					var res = JSON.parse(reqs);
					alert(res.id);
				}else{
					alert("error");
				}
			}
		}catch(e){
			alert("Caught Exception: "+ e.description);
		}
	}})();


</script>
</body>

</html>
{% endblock %}
